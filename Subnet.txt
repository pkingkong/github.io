서브넷 마스크 개념, 서브넷팅 하는 방법.
http://fleet13.egloos.com/4912158

Subnet, Subnet Mask

서브넷이란 (Subnet)'subnetwork을 줄인 말로서 어떤 기관에 소속된 네트웍이지만 따로 분리되어 있는 한 부분으로 인식될 수 있는 네트웍을 말한다. 
그렇다면 서브넷마스크란 한 기관의 게이트웨이나 고유한 네트웍번호로 되어 있는 연결점에 패킷이 도착하면, 
그 패킷은 서브넷 번호를 이용하여 조직 내부의 게이트웨이에서 다시 라우팅 될 수 있다. 
이때 그 라우터는 서브넷 마스크를 봄으로써 어떤 비트를 참조해야하는지 또는 참조할 필요가 없는지를 알게된다. 
서브넷마스크는 라우터가 참조해야할 비트가 어느 것인지를 말해주는 일종의 필터이다. 
진수 마스크에서 한 번호 상의 '1'은 '그 번호 이하를 보라'는 것을 의미하고, '0'은 '그 이하는 볼 필요가 없다'는 것을 의미한다. 
마스크를 사용하면 라우터가 32 비트 주소 전체를 처리해야하는 부담을 줄여주며, 단순히 마스크에 의해 선택된 비트들만 보도록 해준다.

서브넷 마스크의 시작
서브넷 마스크를 잘 이해하는 것이야말로 ip 주소를 확실히 이해하는 요점.
서브넷 마스크(subnet mask) 란, 메인이 아닌 어떤  가공을 통한 네트워크를 위해서 씌우는 마스크이다. 
즉, 우리가 일단 어떤 ip 주소를 배정받게 되면 보통은 이 주소를 그대로 사용하지 않는다.
예를 들어, 클래스 B 주소를 받았는데, 이걸 그냥 사용할 순 없다. 
하나의 네트워크가 65000여 개의 호스트를 가지는데 이렇게 큰 네트워크를구성했다가는 broadcast 영향이 너무 많아 아마 아무것도 할 수 없을 것이다!   
따라서 나누어 써야 한다.
즉, 서브넷 마스크는 주어진 ip 주소를 네트워크 환경에 맞게 나누어 주기 위해서 씌워주는 이진수의 조합이라고 말할 수 있다.

서브넷 마스크의 기본
서브넷 마스크는 이진수로 썼을 때 연속적으로 1 이 나와야만 한다. 
따라서 255.255.255.10 이란 서브세 마스크는 없다.
모든 ip 주소에는 서브넷 마스크가 따라다닌다. 
ip 주소를 나누어 쓰기 위해서 사용하는 서브넷 마스크는 그 주소를 나누지 않더라도 항상 그 옆에 붙어 다닌다.
그래야만 그 주소를 나눈 건지 나누지 않은 건지 알 수 있기 때문.
예를 들어, 210.100.100.1 이란 주소가 있다고 하자. 
이 주소는 클래스 C인데 이 주소를 가지고 254개의 호스트에 ip 주소를 부여했다고 가정하자. 
그럼 클래스 C를 하나도 가공하지 않고 그대로 사용한 것이다. 
그렇다면 서브넷 마스크를 쓰지 않느냐? 그건 아니다. 
이처럼 주어진 클래스 C를 나누어 쓰지 않고 몽땅 쓰는 경우에도 서브넷 마스크는 따라다니는데 그게 바로 default subnet mask 이다. 
클래스 C의  경우에는 255.255.255.0 이다.
 
서브넷팅 예시
예를 들어 150.100.0.0 이란 클래스 B 네트워크가 있다고 치자. 
이때 150.100.100.1 과 150.100.200.1 은 라우터를 거치지 않고 통신이 가능하다. 
왜? 같은 네트워크에 있기 때문.
클래스 B의 경우 디폴트 서브넷 마스크는 255.255.0.0 이다.
하지만 이 주소를 255.255.255.0 이란 서브넷 마스크를 이용하여 서브네팅한다고 하면, 
네트워크부분이 150.100.100 과 150.100.200 으로 바뀌어서 서로 네트워크 부분이 달라지게 된다. 
즉, 이젠 서로 다른 네트워크기 때문에 라우터를 거쳐야만 통신이 가능하다.
 
이번엔 서브넷을 직접 만들어보자.
ip : 201.222.10.60
서브넷 마스크 : 255.255.255.248
=> 서브넷 마스크를 통해 위의 ip는 클래스 C라는 것을 알 수 있다. 이제 서브넷을 구해보면,
          ip : 201.222.10.60    =  1100 1001.1101 1110.0000 1010.0011 1100
 subnet mask : 255.255.255.248  =  1111 1111.1111 1111.1111 1111.1111 1000     (and 연산을 하면)
      subnet                    =  1100 1001.1101 1110.0000 1010.0011 1000   
                                = 201.222.10.56  이다.
